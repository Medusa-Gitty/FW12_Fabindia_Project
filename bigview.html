<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bigview</title>
    <style>

*{
    margin: 0;
    padding: 0;
}


.sticky {
    position: fixed;
    top: 0;
    width: 100%
  }

.top-header{
    width: 1200px;
    height: 90px;
    margin: auto;
    display: flex;
}
.header-left{
    width: 150px;
    height: 90px;
}
.header-left button{
    width: 100px;
    display: inline-flex;
    margin: 25px 25px;
    height: 40px;
   border: none;
    border-radius: 10px;
    align-items: center;
    justify-content: space-evenly;
    font-size: 19px;
    background-color: transparent;
}



.header-middle{
    width: 900px;
    
    height: 90px;
    align-content: center;
}

.header-middle img{
    width: 15%;
    margin: 21px 500px;
}
.header-right{
    width: 150px;
    
    height: 90px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.wishlist img{
    width: 60%;
    margin-left:550%;
}

.cart img{
    margin-left:600%;
    width: 60%;
}

/* header ends*/

        body{
            background-color: #f4f2e5;
            font-family: 'Muli','Helvetica Neue',Helvetica,Arial,sans-serif;;
        }
     #bigview{
         width:84%;
         background-color: #f3f1ea;
         
         margin: auto;
         display: flex;
     }
     #imagebox{
         width:50%;
        
        
     }
     #imagebox img{
         width:75%;
        
     }
     #detailsbox{
         width:50%;
         
     }
     
    li{
        font-size: small;
        margin-top:.5%;
          margin-right: 30%;
 }
    p{
        font-size: 120%;
        margin-top: 2%;
    }
    
    button{
        width:25%;
        height:6%;
        background-color:#e5cc76 ;
        font-weight: bold;
        border: none;
        margin-top: 1%;
    }
   
    .checkbtn{
        background-color: black;
        color:white;
        height:30px;
        width:18%;
    }
input{
    height:25px;
    background-color:#f3f1ea ;
    width:30%;
}
    hr{
        width:70%;
        margin-right: 30%;
        margin-top: 5%;
    } 
    img:hover{
        opacity: .5;
    }
    input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{
        -webkit-appearance: none;
    }
    .header{
    float: left;
    
    height: 155px;
    width: 100%;
    margin: auto;
   
    background-color: #f4f2e5;
}
    </style>
</head>
<body>
    <div class ="header">
        <header class="header" id="myHeader">
            <div class="top-header">
                
                <div class="header-middle">
                    <img src="https://www.fabindia.com/file/general/Fabindia_logo.svg" alt="LOGO">
                </div>
                <div class="header-right">
                    <div class="wishlist">
                        <img src="./image/icon-heart-black.png" alt="">
                    </div>
                    <div class="cart">
                        <img src="./image/icon-bag-black.png" alt="">
                    </div>
                </div>
            </div>
            
        </div>
    </header>
        
    </div>

    <div id="bigview">

        <div id="imagebox"></div>
        <div id="detailsbox"></div>

    </div>


</body>
<script>
    window.onscroll = function() {myFunction()};


var header = document.getElementById("myHeader");

var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}

    let big = JSON.parse(localStorage.getItem('visible'));

   function showProducts(){

  
big.forEach(function (product){

      
      let img = document.createElement('img');
      
      img.src = product.img;
      
      let product_price = document.createElement('p');
  
      product_price.textContent = product.price;
  
      let product_name = document.createElement('p');
  
      product_name.textContent = product.name;

      let hrline1 = document.createElement('hr');
      let hrline2 = document.createElement('hr');
      let hrline3 = document.createElement('hr');
      let hrline4= document.createElement('hr');
      let hrline5= document.createElement('hr');
   

      let addtocartbtn = document.createElement('button'); addtocartbtn.setAttribute('id','goto');
      addtocartbtn.innerText = "Add to Cart";

      addtocartbtn.onclick = function(){
          addtocart(product);
      }
      let cartstatus = document.createElement('div');  cartstatus.setAttribute('id','cartstat');
      cartstatus.innerText ="";
         
      let check = document.createElement('p');
      check.innerText = "Check Delivery Service Availability";
     
       let pindiv = document.createElement('div');
      
      let pincode = document.createElement('input');  pincode.setAttribute('id','pinvalue');
      pincode.placeholder = "Enter Pincode";
      

      let checkbtn = document.createElement('button');
      checkbtn.innerText = "Check";
      checkbtn.setAttribute('class','checkbtn');

      checkbtn.onclick = function(){
          shipment();
      }
      

      let pinverify = document.createElement('div'); pinverify.setAttribute('id','pinstatus');
      pinverify.innerText = "";

      let itemdetail = document.createElement('p');
      itemdetail.innerText = "Details";

      let point1= document.createElement('li');  
       point1.innerText = "Comfort Fit";
      let point2= document.createElement('li');       
      point2.innerText = "Dry Clean Only";
      let point3 = document.createElement('li');      
      point3.innerText = "Dobby Weave";
      let point4 = document.createElement('li'); 
      point4.innerText = "Modal Fabric";


      let time = document.createElement('p');
      time.innerText = "Shipping and Dispatching Time";
      let timeinfo = document.createElement('li');
      timeinfo.innerText = "5 Working Days From The Date Of Placing Your Order. Free shipping for all orders above Rs.1000";
    

      time.setAttribute("class","time");
      itemdetail.setAttribute("class","time");
      
let div1 = document.getElementById('imagebox');
div1.append(img);

pindiv.append(pincode , checkbtn,pinverify)

    let div2 = document.getElementById('detailsbox');  
      div2.append(product_name,hrline1,product_price,addtocartbtn,cartstatus,hrline2,check,pindiv,hrline3,itemdetail,point1,point2,point3,point4,hrline4,time,timeinfo,hrline5);
     
  
  
  });
       
   }
   showProducts();
  
var checkpin;
  function shipment(){
       let pinnumber = document.getElementById('pinvalue').value;
       
        let status = document.getElementById('pinstatus');

      
       if(pinnumber.length == 6 && pinnumber!= 000000){
           checkpin=pinnumber;
           document.getElementById('cartstat').innerText ="";
           status.innerHTML = "*Shipment available";
       }else{
        status.innerHTML = "*Please enter valid pincode";
       }
   }



   if(localStorage.getItem('cart') === null){
       localStorage.setItem('cart',JSON.stringify([]));
   }

    function addtocart(p){


        if(checkpin != undefined){

        let cartitems = JSON.parse(localStorage.getItem('cart'));
        var unique =[]; 

         for(var i=0; i<cartitems.length; i++){
          unique.push(cartitems[i].name);

     }
            if(!unique.includes(p.name)){

             cartitems.push(p);
         
        localStorage.setItem('cart',JSON.stringify(cartitems));
        document.getElementById('goto').innerHTML = "Go to Cart";

      
        

    }else{
        document.getElementById('goto').innerHTML = "Go to Cart";
        document.getElementById('cartstat').innerText = "*Item exists";

    }
        
    if(document.getElementById('goto').innerHTML=='Go to Cart'){
       
        var cartgoing=document.getElementById('goto');
        cartgoing.addEventListener('click',cartgoingf);
    }
        
    }


    else{
        document.getElementById('cartstat').innerText = "*Please enter pincode";
    }

    }
    

    function cartgoingf(){
        window.location.href='cart.html';
    }
    
    

</script>
</html>